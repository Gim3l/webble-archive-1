# Migration `20200928233503`

This migration has been generated by Gimel Dick at 9/28/2020, 7:35:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "StudentProfile" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "userId" INTEGER NOT NULL,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" DATETIME NOT NULL,

    FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

CREATE TABLE "StudentProfileOnClassroom" (
    "studentProfileId" INTEGER NOT NULL,
    "classroomId" INTEGER NOT NULL,

    FOREIGN KEY ("studentProfileId") REFERENCES "StudentProfile"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("classroomId") REFERENCES "Classroom"("id") ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY ("studentProfileId","classroomId")
)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200927210227..20200928233503
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -12,18 +12,19 @@
 // --------------------------------------
 model User {
-  id             Int             @default(autoincrement()) @id
-  createdAt      DateTime        @default(now())
-  updatedAt      DateTime        @updatedAt
+  id             Int              @default(autoincrement()) @id
+  createdAt      DateTime         @default(now())
+  updatedAt      DateTime         @updatedAt
   firstName      String
   lastName       String
-  email          String          @unique
+  email          String           @unique
   hashedPassword String?
-  role           String          @default("user")
+  role           String           @default("user")
   sessions       Session[]
   TeacherProfile TeacherProfile?
+  StudentProfile StudentProfile[]
 }
 model Session {
   id                 Int       @default(autoincrement()) @id
@@ -58,8 +59,9 @@
   name                      String
   createdAt                 DateTime                    @default(now())
   updatedAt                 DateTime                    @updatedAt
   TeacherProfileOnClassroom TeacherProfileOnClassroom[]
+  StudentProfileOnClassroom StudentProfileOnClassroom[]
 }
 model TeacherProfile {
   id                        Int                         @default(autoincrement()) @id
@@ -69,12 +71,30 @@
   updatedAt                 DateTime                    @updatedAt
   TeacherProfileOnClassroom TeacherProfileOnClassroom[]
 }
+model StudentProfile {
+  id                        Int                         @default(autoincrement()) @id
+  user                      User                        @relation(fields: [userId], references: [id])
+  userId                    Int
+  createdAt                 DateTime                    @default(now())
+  updatedAt                 DateTime                    @updatedAt
+  StudentProfileOnClassroom StudentProfileOnClassroom[]
+}
+
 model TeacherProfileOnClassroom {
   teacherProfile   TeacherProfile @relation(fields: [teacherProfileId], references: [id])
   teacherProfileId Int
   classroom        Classroom      @relation(fields: [classroomId], references: [id])
   classroomId      Int
   @@id([teacherProfileId, classroomId])
 }
+
+model StudentProfileOnClassroom {
+  studentProfile   StudentProfile @relation(fields: [studentProfileId], references: [id])
+  studentProfileId Int
+  classroom        Classroom      @relation(fields: [classroomId], references: [id])
+  classroomId      Int
+
+  @@id([studentProfileId, classroomId])
+}
```


