# Migration `20200930071210`

This migration has been generated by Gimel Dick at 9/30/2020, 3:12:10 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Classroom" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name" TEXT NOT NULL,
    "code" TEXT NOT NULL,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" DATETIME NOT NULL
);
INSERT INTO "new_Classroom" ("id", "name", "createdAt", "updatedAt", "code") SELECT "id", "name", "createdAt", "updatedAt", "code" FROM "Classroom";
DROP TABLE "Classroom";
ALTER TABLE "new_Classroom" RENAME TO "Classroom";
CREATE UNIQUE INDEX "Classroom.code_unique" ON "Classroom"("code");
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200930065027..20200930071210
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -56,9 +56,9 @@
 model Classroom {
   id                        Int                         @default(autoincrement()) @id
   name                      String
-  code                      String                      @default("test23l")
+  code                      String                      @unique
   createdAt                 DateTime                    @default(now())
   updatedAt                 DateTime                    @updatedAt
   TeacherProfileOnClassroom TeacherProfileOnClassroom[]
   StudentProfileOnClassroom StudentProfileOnClassroom[]
```


