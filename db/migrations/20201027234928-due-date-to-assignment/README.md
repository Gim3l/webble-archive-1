# Migration `20201027234928-due-date-to-assignment`

This migration has been generated by Gimel Dick at 10/27/2020, 7:49:28 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Assignment" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name" TEXT,
    "description" TEXT NOT NULL,
    "classroomId" INTEGER NOT NULL,
    "dueDate" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,

    FOREIGN KEY ("classroomId") REFERENCES "Classroom"("id") ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO "new_Assignment" ("id", "name", "description", "classroomId") SELECT "id", "name", "description", "classroomId" FROM "Assignment";
DROP TABLE "Assignment";
ALTER TABLE "new_Assignment" RENAME TO "Assignment";
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201025024608-fresh..20201027234928-due-date-to-assignment
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 model User {
   id             Int             @id @default(autoincrement())
@@ -129,8 +129,9 @@
   name              String?
   description       String
   classroomId       Int
   classroom         Classroom           @relation(fields: [classroomId], references: [id])
+  dueDate           DateTime            @default(now())
   GradeOnAssignment GradeOnAssignment[]
 }
 model GradeOnAssignment {
```


